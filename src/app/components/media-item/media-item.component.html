<div class="media-card">
  <div class="media-card-img-container">
    <img [src]="media.posterUrl" [alt]="media.title">
  </div>
  <div class="media-info">
    <h3>{{ media.title }}</h3>
    @if (media.originalTitle && media.originalTitle !== media.title) {
      <p class="original-title">
        {{ media.originalTitle }}
      </p>
    }
    
    <div class="media-meta">
      @if (media.type === mediaType.Series) {
        <div class="media-dates">
          <span class="year-range">
            {{media.year + '-' + media.seriesInfo?.endYear}}
          </span>
        </div>
      } @else {
        <span class="year">{{ media.year }}</span>
      }
      
      @if (media.type === mediaType.Series && media.seriesInfo) {
        <div class="series-stats">
          <span class="seasons">
            <i class="icon seasons-icon"></i>
            {{ media.seriesInfo.seasons }} сезон{{ media.seriesInfo.seasons > 4 ? 'ов' : media.seriesInfo.seasons > 1 ? 'а' : '' }}
          </span>
        </div>
      } 
    
      <span class="genres">{{ getGenres(media).slice(0, 2).join(', ') }}</span>
       @if (getGenres(media).length > 3) {
        <span  class="more-genres">+{{ getGenres(media).length - 3 }}</span>
       }
    </div>
    
    <div class="ratings">
      <span class="rating">
        <span class="rating-icon imdb-icon"></span>
        {{ getAggregator(media, aggregatorType.IMDB)?.rating || '-' }}
      </span>
      <span class="rating">
        <span class="rating-icon kinopoisk-icon"></span>
        {{ getAggregator(media, aggregatorType.Kinopoisk)?.rating || '-' }}
      </span>
      <span class="rating">
        <span class="rating-icon letterboxd-icon"></span>
        {{ getAggregator(media, aggregatorType.Letterboxd)?.rating || '-' }}
      </span>
    </div>

    <p class="description">{{ getAggregator(media, aggregatorType.Kinopoisk)?.description ?? media.description }}</p>
    
    <button class="play-button" (click)="playInVLC()">
      <span class="vlc-icon"></span> Смотреть
    </button>
  </div>
</div>